# GitHub Issues Integration Setup (Mecris Repository)

This document records the steps taken to configure the Mecris repository for fetching GitHub issues via the Claudeâ€¯Code MCP (Machineâ€‘Context Provider) and the GitHub CLI.

## 1. Verify GitHub Token
- Confirmed that the environment variable `GITHUB_TOKEN` is set:
  ```bash
  printenv GITHUB_TOKEN
  ```
- The token is a **personal access token** with the `repo` scope, allowing read access to private repositories if needed.

## 2. Ensure GitHub CLI (`gh`) is Installed & Authenticated
- Checked version:
  ```bash
  gh --version
  ```
  Output: `gh version 2.81.0`
- Verified authentication status:
  ```bash
  gh auth status
  ```
  Output shows the CLI is logged in using the `GITHUB_TOKEN`.

## 3. Create MCP Configuration for GitHub Provider
- Added a new file `.mcp/mecris.json` (see *File Changes* below) with the following content:
  ```json
  {
    "provider": "github",
    "github": {
      "repo": "kingdon-ci/kaniko-builder",
      "token_env": "GITHUB_TOKEN",
      "webhook_secret_env": "GH_WEBHOOK_SECRET"
    },
    "cache_dir": ".mecris/cache",
    "log_level": "info",
    "mcpServers": {
      "mecris": {
        "command": "uv",
        "args": ["run", "mcp_server.py", "--stdio"],
        "cwd": "/Users/yebyen/w/mecris"
      }
    }
  }
  ```
- This config tells the MCP to use the GitHub provider, pointing at the repository `kingdon-ci/kaniko-builder` and pulling the token from `GITHUB_TOKEN`.
- The existing `mcpServers` entry is retained so the Mecris MCP server continues to run via the `uv` command.

## 4. Test Issue Retrieval via GitHub CLI
- Executed the command:
  ```bash
  gh issue list --repo kingdon-ci/kaniko-builder --limit 20
  ```
- Received the following open issues:
  1. **Clean up outdated planning documents postâ€‘MVP**
  2. **Kaniko Selfâ€‘Build: Deferred for External Solution**
  3. **Hybrid Build Strategy: Manual BuildKit + Kaniko Pipeline**
  4. **Support building multiple Kaniko variants (executor, debug, warmer) from single repository**
- This confirms that the token and CLI are correctly configured and that the repository can be queried.

## 5. Next Steps (optional)
- **Start the Mecris MCP server** (if you want Claudeâ€¯Code to expose issue data through MCP functions like `mcp__mecris__get_*`).
- **Integrate issue data** into your daily workflow or automation scripts using the MCP functions.
- **Add webhook** (optional) for realâ€‘time issue updates.

---
*Generated by Claudeâ€¯Code (ðŸ¦¾) on $(date)*